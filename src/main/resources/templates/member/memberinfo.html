<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <title>개인 정보 수정</title>
</head>
<body>
<br>
<h1 align="center">개인 정보 수정</h1>

<br><br>
<Br>
<div align="center">
    <h1>Edit Personal Information</h1>
    <form action="/member/update" method="post" enctype="multipart/form-data">
        <table>
            <tr>
                <td>
                    <label for="profile_img_path">프로필 이미지:</label>
                    <input type="file" id="profile_img_path" name="profile_img_path">
                </td>
            </tr>
            <tr>
                <td>
                    <label for="id">아이디:</label>
                    <input type="text" id="id" name="id" value="{{user.id}}" readonly>
                    <th:block sec:authorize="isAuthenticated()">
                    <h3 align="right"><span sec:authentication="principal.name"></span>님 환영합니다.</h3>
                    </th:block>
                </td>
            </tr>
            <tr>
                <td>
                    <label for="password">비밀번호:</label>
                    <input type="password" id="password" name="password" value="{{user.password}}" required>
                </td>
            </tr>
            <tr>
                <td>
                    <label for="name">이름:</label>
                    <input type="text" id="name" name="name" value="{{user.name}}" required>
                </td>
            </tr>
            <tr>
                <td>
                    <label for="nickname">닉네임:</label>
                    <input type="text" id="nickname" name="nickname" value="{{user.nickname}}" required>
                </td>
            </tr>
            <tr>
                <td>
                    <label for="age">나이:</label>
                    <input type="number" id="age" name="age" value="{{user.age}}" required>
                </td>
            </tr>
            <tr>
                <td>
                    <label for="gender">성별:</label>
                    <select id="gender" name="gender" required>
                        <option value="M" {{ user.gender == 'M' ? 'selected' : '' }}>남성</option>
                        <option value="F" {{ user.gender == 'F' ? 'selected' : '' }}>여성</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>
                    <label for="tel">연락처:</label>
                    <input type="text" id="tel" name="tel" value="{{user.tel}}" required>
                </td>
            </tr>
        </table>
        <div>
            <input type="submit" value="Update">
        </div>
    </form>
    <a href="/member/mypage">뒤로 가기</a>
</div>
</body>
</html>